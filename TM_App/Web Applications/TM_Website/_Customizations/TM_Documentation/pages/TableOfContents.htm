<script type="text/javascript">

	TM.Documentation.TableOfContents = 
		{
				targetDiv			: "#tableOfContents"
			,	show				: function()
										{
											tableOfContents = $("<div>");
											tableOfContents.append($("<h2>").append("Table Of Contents"));
											var tmDocumentation = TM.WebServices.Data.library("TM Documentation")
											$.each(tmDocumentation.views, function() 
												{ 
													var topic = $("<p>");
													topic.append(this.name);
					
													var items = $("<ul>");
													$.each(this.guidanceItems, function(index,value)
														{							
															var guidanceItem= $.data[value];
															if(guidanceItem.phase != "Draft")
															{
																var item = $("<li>");
																_gi = guidanceItem;
																var link = $("<a>").attr("href","#")
																				   .append(guidanceItem.title)
																				   .click(function() 
																						{
																							TM.Documentation.GuidanceItems.show(guidanceItem.title, guidanceItem.guidanceItemId);
																						});
																item.append(link);
																items.append(item);
															}
														});
													topic.append(items);
													tableOfContents.append(topic);
													_item = this;
												} );
			


											$(TM.Documentation.TableOfContents.targetDiv).html(tableOfContents);

											
											$("#tableOfContents a").css("font-size","14px")
										}
			//,	show				: function()

		}

	TM.Documentation.GuidanceItems =
		{
				targetDiv			: TM.Documentation.TableOfContents.targetDiv
			,	show				: function(title, guid)
										{
											getGuidanceItemHtml(guid, function(data) 
												{
													var guidanceItemHtml = $("<div>");
													guidanceItemHtml.append($("<h2>").append(title));
													guidanceItemHtml.append(data.d);

													guidanceItemHtml.append($("<hr>"))
																	.append("Back to ")
																	.append($("<a>").attr("href","#")
																					.click(TM.Documentation.TableOfContents.show)
																					.append("Table of Contents"))
																	.append(" (USE THIS ONE)");

													$(TM.Documentation.TableOfContents.targetDiv).html(guidanceItemHtml);
												});
										}
		}

	$(TM.Documentation.TableOfContents.show);
</script>

<div class="hero-unit">	
	<div id="tableOfContents"></div>
</div>